{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Sidebar from \"@/components/Home/SideBar\";\nimport { ref, onMounted, inject } from \"vue\";\n// import { useStore } from \"vuex\";\n// const appAxios = inject(\"appAxios\");\n\nexport default {\n  __name: 'Home',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const socket = inject(\"socket\");\n    const bookmarkList = ref([]);\n    // const store = useStore();\n\n    onMounted(() => {\n      socket.on(\"NEW_BOOKMARK_ADDED\", bookmark => {\n        bookmarkList.value.push(bookmark);\n      });\n    });\n\n    // const fetchData = () => {\n    //   appAxios.get(\"/bookmarks?_expand=category&_expand=user\").then(bookmark_list_response => {\n    //     bookmarkList.value = bookmark_list_response?.data || [];\n    //   });\n    //   //! Bookmark olarak eklediklerimizi çekmek için user_bookmarks üzerinden çekelim..\n    //   appAxios.get(\"/user_bookmarks/?_expand=bookmark&_expand=user\").then(user_bookmark_response => {\n    //     store.commit(\"setBookmarks\", user_bookmark_response?.data);\n    //   });\n\n    //   //! Like olarak eklediklerimizi çekmek için user_likes üzerinden çekelim..\n    //   appAxios.get(\"/user_likes/?_expand=bookmark&_expand=user\").then(user_likes_response => {\n    //     store.commit(\"setLikes\", user_likes_response?.data);\n    //   });\n    // };\n    // const updateBookmarkList = categoryId => {\n    //   const url = categoryId ? `/bookmarks?_expand=category&_expand=user&categoryId=${categoryId}` : `/bookmarks?_expand=category&_expand=user`;\n    //   appAxios.get(url).then(bookmark_list_response => {\n    //     bookmarkList.value = bookmark_list_response?.data || [];\n    //   });\n    // };\n\n    // fetchData();\n\n    const __returned__ = {\n      socket,\n      bookmarkList,\n      get Sidebar() {\n        return Sidebar;\n      },\n      ref,\n      onMounted,\n      inject\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["Sidebar","ref","onMounted","inject","socket","bookmarkList","on","bookmark","value","push"],"sources":["C:/Users/Fatih/Desktop/1 9/booklike-composition-master/client/src/views/Home.vue"],"sourcesContent":["<template>\n  <AppHeader />\n  <div class=\"flex flex-row\">\n    <Sidebar @category-changed=\"updateBookmarkList\" />\n    <app-bookmark-list v-if=\"bookmarkList.length > 0\" :items=\"bookmarkList\" />\n    <div v-else>Bookmark bulunmamaktadır..</div>\n  </div>\n</template>\n<script setup>\nimport Sidebar from \"@/components/Home/SideBar\";\nimport { ref, onMounted, inject } from \"vue\";\n// import { useStore } from \"vuex\";\n// const appAxios = inject(\"appAxios\");\nconst socket = inject(\"socket\");\nconst bookmarkList = ref([]);\n// const store = useStore();\n\nonMounted(() => {\n  socket.on(\"NEW_BOOKMARK_ADDED\", bookmark => {\n    bookmarkList.value.push(bookmark);\n  });\n});\n\n// const fetchData = () => {\n//   appAxios.get(\"/bookmarks?_expand=category&_expand=user\").then(bookmark_list_response => {\n//     bookmarkList.value = bookmark_list_response?.data || [];\n//   });\n//   //! Bookmark olarak eklediklerimizi çekmek için user_bookmarks üzerinden çekelim..\n//   appAxios.get(\"/user_bookmarks/?_expand=bookmark&_expand=user\").then(user_bookmark_response => {\n//     store.commit(\"setBookmarks\", user_bookmark_response?.data);\n//   });\n\n//   //! Like olarak eklediklerimizi çekmek için user_likes üzerinden çekelim..\n//   appAxios.get(\"/user_likes/?_expand=bookmark&_expand=user\").then(user_likes_response => {\n//     store.commit(\"setLikes\", user_likes_response?.data);\n//   });\n// };\n// const updateBookmarkList = categoryId => {\n//   const url = categoryId ? `/bookmarks?_expand=category&_expand=user&categoryId=${categoryId}` : `/bookmarks?_expand=category&_expand=user`;\n//   appAxios.get(url).then(bookmark_list_response => {\n//     bookmarkList.value = bookmark_list_response?.data || [];\n//   });\n// };\n\n// fetchData();\n</script>"],"mappings":";AASA,OAAOA,OAAO,MAAM,2BAA2B;AAC/C,SAASC,GAAG,EAAEC,SAAS,EAAEC,MAAM,QAAQ,KAAK;AAC5C;AACA;;;;;;;;IACA,MAAMC,MAAM,GAAGD,MAAM,CAAC,QAAQ,CAAC;IAC/B,MAAME,YAAY,GAAGJ,GAAG,CAAC,EAAE,CAAC;IAC5B;;IAEAC,SAAS,CAAC,MAAM;MACdE,MAAM,CAACE,EAAE,CAAC,oBAAoB,EAAEC,QAAQ,IAAI;QAC1CF,YAAY,CAACG,KAAK,CAACC,IAAI,CAACF,QAAQ,CAAC;MACnC,CAAC,CAAC;IACJ,CAAC,CAAC;;IAEF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}