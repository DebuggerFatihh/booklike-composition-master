{"ast":null,"code":"import { createRouter, createWebHashHistory } from \"vue-router\";\nimport store from \"../store\";\nconst routes = [{\n  name: \"HomePage\",\n  path: '/',\n  component: () => import(\"@/views/Home\")\n}, {\n  name: \"LoginPage\",\n  path: '/login',\n  component: () => import(\"@/views/Login\")\n}, {\n  name: \"RegisterPage\",\n  path: '/register',\n  component: () => import(\"@/views/Register\")\n}, {\n  name: \"NewBookmarkPage\",\n  path: '/new',\n  component: () => import(\"@/views/NewBookmark\")\n}, {\n  name: \"Favorites\",\n  path: '/favorites',\n  meta: {\n    componentName: \"appBookmarkList\"\n  },\n  component: () => import(\"@/views/Account\")\n}, {\n  name: \"Likes\",\n  path: '/likes',\n  meta: {\n    componentName: \"appBookmarkList\"\n  },\n  component: () => import(\"@/views/Account\")\n}, {\n  name: \"Settings\",\n  path: '/settings',\n  meta: {\n    componentName: \"userSettings\"\n  },\n  component: () => import(\"@/views/Account\")\n}];\n\n// export default createRouter({\n//     routes,\n//     history:createWebHashHistory()\n// })\n\nconst router = createRouter({\n  routes,\n  history: createWebHashHistory()\n});\n//routerı export etmeden önce \nrouter.beforeEach((to, from, next) => {\n  //bir componentin her işleminden önce bir hook yaratır.\n  //amacımız login olmadan giriç yapılmasını engellemek hompage'e\n\n  const authRequiredRoutes = [\"HomePage\"];\n\n  //giriş yapmış kullanıcının logout olana kadar tekrar giriş istemesine gerek yok\n  const authNotRequiredRoutes = [\"LoginPage,RegisterPage\"];\n  if (authNotRequiredRoutes.indexOf(to.name) > -1 && _isAuthenticated) next(false); //gitme işlemini iptal et autheticated edilmiş kullanıcı ilgili sayfalara gitmek isterse \n\n  const _isAuthenticated = store.getters._isAuthenticated;\n  if (authRequiredRoutes.indexOf(to.name) > -1) {\n    if (_isAuthenticated) next();else next({\n      name: \"LoginPage\"\n    });\n  } else {\n    next();\n  }\n\n  //console.log('to',to); \n  //console.log('from', from)\n  //next();//next bir callbackür\n  //next(false) //denilirse sayfa görünmez \n}); //\n\nexport default router;","map":{"version":3,"names":["createRouter","createWebHashHistory","store","routes","name","path","component","meta","componentName","router","history","beforeEach","to","from","next","authRequiredRoutes","authNotRequiredRoutes","indexOf","_isAuthenticated","getters"],"sources":["C:/Users/Fatih/Desktop/1 9/booklike-composition-master/client/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHashHistory} from \"vue-router\";\nimport store from \"../store\"\n\nconst routes=[\n    {\n    name:\"HomePage\",\n    path:'/',\n    component: ()=>import(\"@/views/Home\")\n    },\n    {\n        name:\"LoginPage\",\n        path:'/login',\n        component: ()=>import(\"@/views/Login\")\n    },\n    {\n        name:\"RegisterPage\",\n        path:'/register',\n        component: ()=>import(\"@/views/Register\")\n    },\n    {\n        name:\"NewBookmarkPage\",\n        path:'/new',\n        component: ()=>import(\"@/views/NewBookmark\")\n    },\n    {\n        name:\"Favorites\",\n        path:'/favorites',\n        meta:{\n            componentName:\"appBookmarkList\",\n        },\n        component: ()=>import(\"@/views/Account\")\n    },\n    {\n        name:\"Likes\",\n        path:'/likes',\n        meta:{\n            componentName:\"appBookmarkList\",\n        },\n        component: ()=>import(\"@/views/Account\")\n    },\n    {\n        name:\"Settings\",\n        path:'/settings',\n        meta:{\n            componentName:\"userSettings\",\n        },\n        component: ()=>import(\"@/views/Account\")\n    },\n    \n]\n\n// export default createRouter({\n//     routes,\n//     history:createWebHashHistory()\n// })\n\nconst router=createRouter({\n    routes,\n    history:createWebHashHistory()\n})\n//routerı export etmeden önce \nrouter.beforeEach((to,from,next)=>{ //bir componentin her işleminden önce bir hook yaratır.\n    //amacımız login olmadan giriç yapılmasını engellemek hompage'e\n    \n    const authRequiredRoutes=[\"HomePage\"];\n\n    //giriş yapmış kullanıcının logout olana kadar tekrar giriş istemesine gerek yok\n    const authNotRequiredRoutes=[\"LoginPage,RegisterPage\"];\n\n    if(authNotRequiredRoutes.indexOf(to.name)>-1 && _isAuthenticated) next(false);//gitme işlemini iptal et autheticated edilmiş kullanıcı ilgili sayfalara gitmek isterse \n\n    const _isAuthenticated=store.getters._isAuthenticated\n    if(authRequiredRoutes.indexOf(to.name)>-1) {\n        if( _isAuthenticated) next();\n        else next({name:\"LoginPage\"});\n    }else{\n        next();\n    }\n    \n    //console.log('to',to); \n    //console.log('from', from)\n    //next();//next bir callbackür\n    //next(false) //denilirse sayfa görünmez \n}) //\n\nexport default router;"],"mappings":"AAAA,SAASA,YAAY,EAAEC,oBAAoB,QAAO,YAAY;AAC9D,OAAOC,KAAK,MAAM,UAAU;AAE5B,MAAMC,MAAM,GAAC,CACT;EACAC,IAAI,EAAC,UAAU;EACfC,IAAI,EAAC,GAAG;EACRC,SAAS,EAAEA,CAAA,KAAI,MAAM,CAAC,cAAc;AACpC,CAAC,EACD;EACIF,IAAI,EAAC,WAAW;EAChBC,IAAI,EAAC,QAAQ;EACbC,SAAS,EAAEA,CAAA,KAAI,MAAM,CAAC,eAAe;AACzC,CAAC,EACD;EACIF,IAAI,EAAC,cAAc;EACnBC,IAAI,EAAC,WAAW;EAChBC,SAAS,EAAEA,CAAA,KAAI,MAAM,CAAC,kBAAkB;AAC5C,CAAC,EACD;EACIF,IAAI,EAAC,iBAAiB;EACtBC,IAAI,EAAC,MAAM;EACXC,SAAS,EAAEA,CAAA,KAAI,MAAM,CAAC,qBAAqB;AAC/C,CAAC,EACD;EACIF,IAAI,EAAC,WAAW;EAChBC,IAAI,EAAC,YAAY;EACjBE,IAAI,EAAC;IACDC,aAAa,EAAC;EAClB,CAAC;EACDF,SAAS,EAAEA,CAAA,KAAI,MAAM,CAAC,iBAAiB;AAC3C,CAAC,EACD;EACIF,IAAI,EAAC,OAAO;EACZC,IAAI,EAAC,QAAQ;EACbE,IAAI,EAAC;IACDC,aAAa,EAAC;EAClB,CAAC;EACDF,SAAS,EAAEA,CAAA,KAAI,MAAM,CAAC,iBAAiB;AAC3C,CAAC,EACD;EACIF,IAAI,EAAC,UAAU;EACfC,IAAI,EAAC,WAAW;EAChBE,IAAI,EAAC;IACDC,aAAa,EAAC;EAClB,CAAC;EACDF,SAAS,EAAEA,CAAA,KAAI,MAAM,CAAC,iBAAiB;AAC3C,CAAC,CAEJ;;AAED;AACA;AACA;AACA;;AAEA,MAAMG,MAAM,GAACT,YAAY,CAAC;EACtBG,MAAM;EACNO,OAAO,EAACT,oBAAoB,CAAC;AACjC,CAAC,CAAC;AACF;AACAQ,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAACC,IAAI,EAACC,IAAI,KAAG;EAAE;EAChC;;EAEA,MAAMC,kBAAkB,GAAC,CAAC,UAAU,CAAC;;EAErC;EACA,MAAMC,qBAAqB,GAAC,CAAC,wBAAwB,CAAC;EAEtD,IAAGA,qBAAqB,CAACC,OAAO,CAACL,EAAE,CAACR,IAAI,CAAC,GAAC,CAAC,CAAC,IAAIc,gBAAgB,EAAEJ,IAAI,CAAC,KAAK,CAAC,CAAC;;EAE9E,MAAMI,gBAAgB,GAAChB,KAAK,CAACiB,OAAO,CAACD,gBAAgB;EACrD,IAAGH,kBAAkB,CAACE,OAAO,CAACL,EAAE,CAACR,IAAI,CAAC,GAAC,CAAC,CAAC,EAAE;IACvC,IAAIc,gBAAgB,EAAEJ,IAAI,CAAC,CAAC,CAAC,KACxBA,IAAI,CAAC;MAACV,IAAI,EAAC;IAAW,CAAC,CAAC;EACjC,CAAC,MAAI;IACDU,IAAI,CAAC,CAAC;EACV;;EAEA;EACA;EACA;EACA;AACJ,CAAC,CAAC,EAAC;;AAEH,eAAeL,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}