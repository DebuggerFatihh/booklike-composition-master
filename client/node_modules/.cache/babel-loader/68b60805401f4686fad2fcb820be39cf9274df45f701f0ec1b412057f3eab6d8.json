{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Sidebar from \"@/components/Home/SideBar\";\nimport { ref, onMounted, inject } from \"vue\";\n// import { useStore } from \"vuex\";\n\nexport default {\n  __name: 'Home',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const appAxios = inject(\"appAxios\");\n    const socket = inject(\"socket\");\n    const bookmarkList = ref([]);\n    // const store = useStore();\n\n    onMounted(() => {\n      socket.on(\"NEW_BOOKMARK_ADDED\", bookmark => {\n        bookmarkList.value.push(bookmark);\n      });\n    });\n    const fetchData = () => {\n      appAxios.get(\"/Bookmark\").then(bookmark_list_response => {\n        //https://localhost:7255/api/Bookmark\n\n        bookmarkList.value = bookmark_list_response?.data || [];\n      });\n    };\n    //   //! Bookmark olarak eklediklerimizi çekmek için user_bookmarks üzerinden çekelim..\n    appAxios.get(\"/user_bookmarks/?_expand=bookmark&_expand=user\").then(user_bookmark_response => {\n      store.commit(\"setBookmarks\", user_bookmark_response?.data);\n    });\n\n    //   //! Like olarak eklediklerimizi çekmek için user_likes üzerinden çekelim..\n    //   appAxios.get(\"/user_likes/?_expand=bookmark&_expand=user\").then(user_likes_response => {\n    //     store.commit(\"setLikes\", user_likes_response?.data);\n    //   });\n    // };\n    // const updateBookmarkList = categoryId => {\n    //   const url = categoryId ? `/bookmarks?_expand=category&_expand=user&categoryId=${categoryId}` : `/bookmarks?_expand=category&_expand=user`;\n    //   appAxios.get(url).then(bookmark_list_response => {\n    //     bookmarkList.value = bookmark_list_response?.data || [];\n    //   });\n    // };\n\n    fetchData();\n    const __returned__ = {\n      appAxios,\n      socket,\n      bookmarkList,\n      fetchData,\n      get Sidebar() {\n        return Sidebar;\n      },\n      ref,\n      onMounted,\n      inject\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["Sidebar","ref","onMounted","inject","appAxios","socket","bookmarkList","on","bookmark","value","push","fetchData","get","then","bookmark_list_response","data","user_bookmark_response","store","commit"],"sources":["C:/Users/Fatih/Desktop/1 9/booklike-composition-master/client/src/views/Home.vue"],"sourcesContent":["<template>\n  <AppHeader />\n  <div class=\"flex flex-row\">\n    <Sidebar @category-changed=\"updateBookmarkList\" />\n    <app-bookmark-list v-if=\"bookmarkList.length > 0\" :items=\"bookmarkList\" />\n    <div v-else>Bookmark bulunmamaktadır..</div>\n  </div>\n</template>\n<script setup>\nimport Sidebar from \"@/components/Home/SideBar\";\nimport { ref, onMounted, inject } from \"vue\";\n// import { useStore } from \"vuex\";\nconst appAxios = inject(\"appAxios\");\nconst socket = inject(\"socket\");\nconst bookmarkList = ref([]);\n// const store = useStore();\n\nonMounted(() => {\n  socket.on(\"NEW_BOOKMARK_ADDED\", bookmark => {\n    bookmarkList.value.push(bookmark);\n  });\n});\n\nconst fetchData = () => {\n  appAxios.get(\"/Bookmark\").then(bookmark_list_response => { //https://localhost:7255/api/Bookmark\n\n    bookmarkList.value = bookmark_list_response?.data || []; \n  });\n   }\n//   //! Bookmark olarak eklediklerimizi çekmek için user_bookmarks üzerinden çekelim..\n   appAxios.get(\"/user_bookmarks/?_expand=bookmark&_expand=user\").then(user_bookmark_response => { \n     store.commit(\"setBookmarks\", user_bookmark_response?.data); \n  });\n\n//   //! Like olarak eklediklerimizi çekmek için user_likes üzerinden çekelim..\n//   appAxios.get(\"/user_likes/?_expand=bookmark&_expand=user\").then(user_likes_response => {\n//     store.commit(\"setLikes\", user_likes_response?.data);\n//   });\n// };\n// const updateBookmarkList = categoryId => {\n//   const url = categoryId ? `/bookmarks?_expand=category&_expand=user&categoryId=${categoryId}` : `/bookmarks?_expand=category&_expand=user`;\n//   appAxios.get(url).then(bookmark_list_response => {\n//     bookmarkList.value = bookmark_list_response?.data || [];\n//   });\n// };\n\nfetchData();\n\n</script>"],"mappings":";AASA,OAAOA,OAAO,MAAM,2BAA2B;AAC/C,SAASC,GAAG,EAAEC,SAAS,EAAEC,MAAM,QAAQ,KAAK;AAC5C;;;;;;;;IACA,MAAMC,QAAQ,GAAGD,MAAM,CAAC,UAAU,CAAC;IACnC,MAAME,MAAM,GAAGF,MAAM,CAAC,QAAQ,CAAC;IAC/B,MAAMG,YAAY,GAAGL,GAAG,CAAC,EAAE,CAAC;IAC5B;;IAEAC,SAAS,CAAC,MAAM;MACdG,MAAM,CAACE,EAAE,CAAC,oBAAoB,EAAEC,QAAQ,IAAI;QAC1CF,YAAY,CAACG,KAAK,CAACC,IAAI,CAACF,QAAQ,CAAC;MACnC,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,MAAMG,SAAS,GAAGA,CAAA,KAAM;MACtBP,QAAQ,CAACQ,GAAG,CAAC,WAAW,CAAC,CAACC,IAAI,CAACC,sBAAsB,IAAI;QAAE;;QAEzDR,YAAY,CAACG,KAAK,GAAGK,sBAAsB,EAAEC,IAAI,IAAI,EAAE;MACzD,CAAC,CAAC;IACD,CAAC;IACJ;IACGX,QAAQ,CAACQ,GAAG,CAAC,gDAAgD,CAAC,CAACC,IAAI,CAACG,sBAAsB,IAAI;MAC5FC,KAAK,CAACC,MAAM,CAAC,cAAc,EAAEF,sBAAsB,EAAED,IAAI,CAAC;IAC7D,CAAC,CAAC;;IAEJ;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEAJ,SAAS,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}