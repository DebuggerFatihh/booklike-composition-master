{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Sidebar from \"@/components/Home/SideBar\";\nimport { ref, onMounted, inject } from \"vue\";\nimport { useStore } from \"vuex\";\nexport default {\n  __name: 'Home',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const appAxios = inject(\"appAxios\");\n    const socket = inject(\"socket\");\n    const bookmarkList = ref([]);\n    const store = useStore();\n    onMounted(() => {\n      socket.on(\"NEW_BOOKMARK_ADDED\", bookmark => {\n        bookmarkList.value.push(bookmark);\n      });\n    });\n    const fetchData = () => {\n      appAxios.get(\"/Bookmark\").then(bookmark_list_response => {\n        //https://localhost:7255/api/Bookmark\n\n        bookmarkList.value = bookmark_list_response?.data || [];\n      });\n    };\n    //! Bookmark olarak eklediklerimizi çekmek için user_bookmarks üzerinden çekelim..\n    appAxios.get(\"/UserBookmark\").then(user_bookmark_response => {\n      store.commit(\"setBookmarks\", user_bookmark_response?.data);\n    });\n\n    //   //! Like olarak eklediklerimizi çekmek için user_likes üzerinden çekelim..\n    appAxios.get(\"/UserLike\").then(user_likes_response => {\n      store.commit(\"setLikes\", user_likes_response?.data);\n    });\n    const updateBookmarkList = categoryId => {\n      const url = categoryId ? `/Bookmark/GetBookmarkByCategory?categoryId=${categoryId}` : `/Bookmark`;\n      appAxios.get(url).then(bookmark_list_response => {\n        bookmarkList.value = bookmark_list_response?.data || [];\n        console.log('BookmarkList.value :>> ', bookmarkList.value);\n      });\n    };\n\n    //   const updateBookmarkList = (categoryId) => {\n\n    //      appAxios.get(url).then(bookmark_list_response => {\n    //     bookmarkList.value = bookmark_list_response?.data || [];\n    //    });\n    // };\n    fetchData();\n    const __returned__ = {\n      appAxios,\n      socket,\n      bookmarkList,\n      store,\n      fetchData,\n      updateBookmarkList,\n      get Sidebar() {\n        return Sidebar;\n      },\n      ref,\n      onMounted,\n      inject,\n      get useStore() {\n        return useStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["Sidebar","ref","onMounted","inject","useStore","appAxios","socket","bookmarkList","store","on","bookmark","value","push","fetchData","get","then","bookmark_list_response","data","user_bookmark_response","commit","user_likes_response","updateBookmarkList","categoryId","url","console","log"],"sources":["C:/Users/Fatih/Desktop/1 9/booklike-composition-master/client/src/views/Home.vue"],"sourcesContent":["<template>\n  <AppHeader />\n  <div class=\"flex flex-row\">\n    <Sidebar @category-changed=\"updateBookmarkList\" />\n    <app-bookmark-list v-if=\"bookmarkList.length > 0\" :items=\"bookmarkList\" />\n    <div v-else>Bookmark bulunmamaktadır..</div>\n  </div>\n</template>\n<script setup>\nimport Sidebar from \"@/components/Home/SideBar\";\nimport { ref, onMounted, inject } from \"vue\";\n import { useStore } from \"vuex\";\nconst appAxios = inject(\"appAxios\");\nconst socket = inject(\"socket\");\nconst bookmarkList = ref([]);\n const store = useStore();\n\nonMounted(() => {\n  socket.on(\"NEW_BOOKMARK_ADDED\", bookmark => {\n    bookmarkList.value.push(bookmark);\n  });\n});\n\nconst fetchData = () => {\n  appAxios.get(\"/Bookmark\").then(bookmark_list_response => { //https://localhost:7255/api/Bookmark\n\n    bookmarkList.value = bookmark_list_response?.data || []; \n  });\n   }\n   //! Bookmark olarak eklediklerimizi çekmek için user_bookmarks üzerinden çekelim..\n   appAxios.get(\"/UserBookmark\").then(user_bookmark_response => { \n    store.commit(\"setBookmarks\", user_bookmark_response?.data); \n    });\n\n//   //! Like olarak eklediklerimizi çekmek için user_likes üzerinden çekelim..\n  appAxios.get(\"/UserLike\").then(user_likes_response => {\n    store.commit(\"setLikes\", user_likes_response?.data);\n  });\n\n  const updateBookmarkList = (categoryId) => {\n  const url = categoryId ? `/Bookmark/GetBookmarkByCategory?categoryId=${categoryId}` : `/Bookmark`;\n  appAxios.get(url).then((bookmark_list_response) => {\n    bookmarkList.value = bookmark_list_response?.data || [];\n    console.log('BookmarkList.value :>> ', bookmarkList.value);\n  });\n};\n\n//   const updateBookmarkList = (categoryId) => {\n  \n//      appAxios.get(url).then(bookmark_list_response => {\n//     bookmarkList.value = bookmark_list_response?.data || [];\n//    });\n// };\nfetchData();\n\n</script>"],"mappings":";AASA,OAAOA,OAAO,MAAM,2BAA2B;AAC/C,SAASC,GAAG,EAAEC,SAAS,EAAEC,MAAM,QAAQ,KAAK;AAC3C,SAASC,QAAQ,QAAQ,MAAM;;;;;;;IAChC,MAAMC,QAAQ,GAAGF,MAAM,CAAC,UAAU,CAAC;IACnC,MAAMG,MAAM,GAAGH,MAAM,CAAC,QAAQ,CAAC;IAC/B,MAAMI,YAAY,GAAGN,GAAG,CAAC,EAAE,CAAC;IAC3B,MAAMO,KAAK,GAAGJ,QAAQ,CAAC,CAAC;IAEzBF,SAAS,CAAC,MAAM;MACdI,MAAM,CAACG,EAAE,CAAC,oBAAoB,EAAEC,QAAQ,IAAI;QAC1CH,YAAY,CAACI,KAAK,CAACC,IAAI,CAACF,QAAQ,CAAC;MACnC,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,MAAMG,SAAS,GAAGA,CAAA,KAAM;MACtBR,QAAQ,CAACS,GAAG,CAAC,WAAW,CAAC,CAACC,IAAI,CAACC,sBAAsB,IAAI;QAAE;;QAEzDT,YAAY,CAACI,KAAK,GAAGK,sBAAsB,EAAEC,IAAI,IAAI,EAAE;MACzD,CAAC,CAAC;IACD,CAAC;IACD;IACAZ,QAAQ,CAACS,GAAG,CAAC,eAAe,CAAC,CAACC,IAAI,CAACG,sBAAsB,IAAI;MAC5DV,KAAK,CAACW,MAAM,CAAC,cAAc,EAAED,sBAAsB,EAAED,IAAI,CAAC;IAC1D,CAAC,CAAC;;IAEN;IACEZ,QAAQ,CAACS,GAAG,CAAC,WAAW,CAAC,CAACC,IAAI,CAACK,mBAAmB,IAAI;MACpDZ,KAAK,CAACW,MAAM,CAAC,UAAU,EAAEC,mBAAmB,EAAEH,IAAI,CAAC;IACrD,CAAC,CAAC;IAEF,MAAMI,kBAAkB,GAAIC,UAAU,IAAK;MAC3C,MAAMC,GAAG,GAAGD,UAAU,GAAI,8CAA6CA,UAAW,EAAC,GAAI,WAAU;MACjGjB,QAAQ,CAACS,GAAG,CAACS,GAAG,CAAC,CAACR,IAAI,CAAEC,sBAAsB,IAAK;QACjDT,YAAY,CAACI,KAAK,GAAGK,sBAAsB,EAAEC,IAAI,IAAI,EAAE;QACvDO,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAElB,YAAY,CAACI,KAAK,CAAC;MAC5D,CAAC,CAAC;IACJ,CAAC;;IAED;;IAEA;IACA;IACA;IACA;IACAE,SAAS,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}